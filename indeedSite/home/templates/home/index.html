{% extends "base.html" %}

{% block title %}IndeedLite - Find Your Next Career Opportunity{% endblock %}

{% block content %}

<!-- HERO SECTION -->
<section class="hero-section">
  <div class="container">
    <div class="hero-content">
      <h1 class="hero-title">Welcome to IndeedLite</h1>
      <p class="hero-subtitle">Find your next career opportunity with our modern job platform.</p>

      <div class="hero-buttons">

        {% if not user.is_authenticated %}
          <a class="btn btn-primary me-3" href="{% url 'job_list' %}">
            <i class="fas fa-search"></i> Find Jobs
          </a>
          <a class="btn btn-success me-3" href="{% url 'accounts.login' %}">
            <i class="fas fa-sign-in-alt"></i> Login
          </a>
          <a class="btn btn-primary" href="{% url 'accounts.signup' %}">
            <i class="fas fa-user-plus"></i> Sign Up
          </a>

        {% elif user.profile.is_recruiter %}
          <a class="btn btn-success me-3" href="{% url 'recruiter_pipeline' %}">
            <i class="fas fa-columns"></i> Kanban Board
          </a>
          <a class="btn btn-primary me-3" href="{% url 'job.create' %}">
            <i class="fas fa-plus"></i> Create Job
          </a>

        {% else %}
          <a class="btn btn-primary me-3" href="{% url 'job_list' %}">
            <i class="fas fa-search"></i> Find Jobs
          </a>
          <a class="btn btn-success me-3" href="{% url 'profile.index' request.user.id %}">
            <i class="fas fa-user"></i> My Profile
          </a>
          <a class="btn btn-primary" href="{% url 'recommended_jobs' %}">
            <i class="fas fa-star"></i> Recommended Jobs
          </a>
        {% endif %}

      </div>
    </div>
  </div>
</section>

<!-- MAIN CONTENT -->
<div class="container mt-5">

  <div class="section-header">
    <i class="fas fa-rocket"></i> Quick Actions
  </div>

  <div class="section-content">
    <div class="quick-actions">

      {% if not user.is_authenticated %}
        <!-- Visitor Quick Actions -->
        <div class="action-card">
          <div class="action-icon"><i class="fas fa-user-plus"></i></div>
          <h3 class="action-title">Get Started</h3>
          <p>Create your profile and begin your job search.</p>
          <a class="btn btn-success" href="{% url 'accounts.signup' %}"><i class="fas fa-user-plus"></i> Sign Up</a>
        </div>

        <div class="action-card">
          <div class="action-icon"><i class="fas fa-search"></i></div>
          <h3 class="action-title">Browse Jobs</h3>
          <p>Search thousands of open positions.</p>
          <a class="btn btn-secondary" href="{% url 'job_list' %}">Browse Jobs</a>
        </div>

      {% elif user.profile.is_recruiter %}
        <!-- Recruiter Quick Actions -->
        <div class="action-card">
          <div class="action-icon"><i class="fas fa-columns"></i></div>
          <h3 class="action-title">Kanban</h3>
          <p>Manage your applicant pipeline.</p>
          <a class="btn btn-primary" href="{% url 'recruiter_pipeline' %}">Open Kanban</a>
        </div>

        <div class="action-card">
          <div class="action-icon"><i class="fas fa-plus"></i></div>
          <h3 class="action-title">Create Job</h3>
          <p>Post a new job listing.</p>
          <a class="btn btn-primary" href="{% url 'job.create' %}">Create Job</a>
        </div>

        <div class="action-card">
          <div class="action-icon"><i class="fas fa-users"></i></div>
          <h3 class="action-title">Applicant Map</h3>
          <p>Geographic view of your applicants.</p>

          {% if recruiter_jobs %}
            <a class="btn btn-primary" href="{% url 'applicant_map' recruiter_jobs.0.id %}">View Map</a>
          {% else %}
            <button class="btn btn-secondary" disabled>No Jobs</button>
          {% endif %}
        </div>

        <div class="action-card">
          <div class="action-icon"><i class="fas fa-globe"></i></div>
          <h3 class="action-title">Candidate Search</h3>
          <p>Find candidates by skills & experience.</p>
          <a class="btn btn-primary" href="{% url 'candidate_search' %}">Search</a>
        </div>

      {% else %}
        <!-- Regular User Quick Actions -->
        <div class="action-card">
          <div class="action-icon"><i class="fas fa-search"></i></div>
          <h3 class="action-title">Browse Jobs</h3>
          <p>Discover opportunities from top employers.</p>
          <a class="btn btn-secondary" href="{% url 'job_list' %}">Browse Jobs</a>
        </div>

        <div class="action-card">
          <div class="action-icon"><i class="fas fa-map-marker-alt"></i></div>
          <h3 class="action-title">Job Map</h3>
          <p>Explore jobs by location.</p>
          <a class="btn btn-primary" href="{% url 'job_map_page' %}">View Map</a>
        </div>

        <div class="action-card">
          <div class="action-icon"><i class="fas fa-star"></i></div>
          <h3 class="action-title">Recommended Jobs</h3>
          <p>See jobs tailored to your profile.</p>
          <a class="btn btn-primary" href="{% url 'recommended_jobs' %}">View Recommendations</a>
        </div>

        <div class="action-card">
          <div class="action-icon"><i class="fas fa-user"></i></div>
          <h3 class="action-title">Profile</h3>
          <p>Update your personal information.</p>
          <a class="btn btn-success" href="{% url 'profile.index' request.user.id %}">My Profile</a>
        </div>

      {% endif %}

    </div>
  </div>

  <!-- Community Profiles -->
  {% if template_data.users %}
    <div class="section-header mt-5">
      <i class="fas fa-users"></i> Community Profiles
    </div>
    <div class="section-content">
      <div class="row">
        {% for user in template_data.users %}
        <div class="col-md-4 mb-3">
          <div class="profile-card">
            <div class="profile-avatar">{{ user.username|first|upper }}</div>
            <h5>{{ user.username }}</h5>
            <a class="btn btn-outline-primary" href="{% url 'profile.index' user.id %}">
              <i class="fas fa-eye"></i> View Profile
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
{% endblock %}