{% extends "base.html" %}

{% block title %}IndeedLite - Find Your Next Career Opportunity{% endblock %}

{% block content %}
  

  <!-- Main Content -->
  <div class="container mt-5">
    <!-- Back Button -->
    <div class="mb-4">
      <a class="btn btn-secondary" href="javascript:history.back()">
        <i class="fas fa-arrow-left"></i>
        Back
      </a>
    </div>

    <!-- Email Form -->
    <div class="section-header">
      <i class="fas fa-envelope"></i>
      Email {{ candidate.user.username }}
    </div>
    
    <div class="section-content">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <!-- Candidate Info Card -->
          <div class="card mb-4">
            <div class="card-header bg-gt-gold bg-gt-navy">
              <h5 class="mb-0">
                <i class="fas fa-user"></i>
                Candidate Information
              </h5>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <p class="mb-2">
                    <strong><i class="fas fa-user me-2 text-gt-gold"></i>Name:</strong> 
                    {{ candidate.user.username }}
                  </p>
                  {% if candidate.user.email %}
                  <p class="mb-2">
                    <strong><i class="fas fa-envelope me-2 text-gt-gold"></i>Email:</strong> 
                    {{ candidate.user.email }}
                  </p>
                  {% endif %}
                </div>
                <div class="col-md-6">
                  {% if candidate.headline %}
                  <p class="mb-2">
                    <strong><i class="fas fa-quote-left me-2 text-gt-gold"></i>Headline:</strong> 
                    {{ candidate.headline }}
                  </p>
                  {% endif %}
                  {% if candidate.location %}
                  <p class="mb-2">
                    <strong><i class="fas fa-map-marker-alt me-2 text-gt-gold"></i>Location:</strong> 
                    {{ candidate.location }}
                  </p>
                  {% endif %}
                </div>
              </div>

              <div class="mt-3">
                <a href="{% url 'profile.index' candidate.user.id %}" class="btn btn-primary">
                  <i class="fas fa-user-circle me-2"></i>View Profile
                </a>
              </div>
            </div>
          </div>

          <!-- Email Form Card -->
          <div class="card">
            <div class="card-header bg-gt-gold text-white">
              <h5 class="mb-0">
                <i class="fas fa-paper-plane"></i>
                Compose Email
              </h5>
            </div>
            <div class="card-body">
              <form method="POST">
                {% csrf_token %}
                
                <!-- Form fields with better styling -->
                {% for field in form %}
                  <div class="mb-4">
                    <label for="{{ field.id_for_label }}" class="form-label">
                      {% if field.name == 'subject' %}
                        <i class="fas fa-heading me-2"></i>
                      {% elif field.name == 'message' %}
                        <i class="fas fa-comment-dots me-2"></i>
                      {% endif %}
                      {{ field.label }}
                    </label>
                    
                    {{ field }}
                    
                    {% if field.help_text %}
                      <div class="form-text">{{ field.help_text }}</div>
                    {% endif %}
                    
                    {% if field.errors %}
                      <div class="text-danger small mt-1">
                        {% for error in field.errors %}
                          <div><i class="fas fa-exclamation-circle me-1"></i>{{ error }}</div>
                        {% endfor %}
                      </div>
                    {% endif %}
                  </div>
                {% endfor %}

                <!-- Action Buttons -->
                <div class="d-flex gap-3 mt-4">
                  <button type="submit" class="btn btn-success">
                    <i class="fas fa-paper-plane"></i>
                    Send Email
                  </button>
                  <a href="javascript:history.back()" class="btn btn-secondary">
                    <i class="fas fa-times"></i>
                    Cancel
                  </a>
                </div>
              </form>
            </div>
          </div>


        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gt-navy text-gt-white py-4 mt-5">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h5><i class="fas fa-briefcase me-2"></i>IndeedLite</h5>
          <p class="mb-0">Connecting job seekers with career opportunities.</p>
        </div>
        <div class="col-md-6 text-md-end">
          <p class="mb-0">&copy; 2024 IndeedLite. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
{% endblock content %}