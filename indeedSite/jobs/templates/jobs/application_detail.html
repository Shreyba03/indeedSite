{% extends "base.html" %}

{% block title %}IndeedLite - Find Your Next Career Opportunity{% endblock %}

{% block content %}
<!-- <!DOCTYPE html>
<html>
<head>
  <title>Application - {{ app.user.username }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-4">

  <h2>
    <i class="fas fa-file-alt"></i>
    Application for {{ app.job.title }}
  </h2>

  <div class="card mt-3">
    <div class="card-body">
      <h4>{{ app.user.username }}</h4>
      <p><strong>Applied:</strong> {{ app.applied_at }}</p>
      <p><strong>Status:</strong> {{ app.get_status_display }}</p>

      <hr>

      <h5>Tailored Note</h5>
      {% if app.note %}
        <p>{{ app.note|linebreaks }}</p>
      {% else %}
        <p class="text-muted">No note provided.</p>
      {% endif %}
    </div>
  </div>

  <a href="{% url 'recruiter_pipeline_job' app.job.id %}" class="btn btn-secondary mt-3">
    Back to Pipeline
  </a>

</div>

</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Application - {{ app.user.username }} | IndeedLite</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  {% load static %}
  <link href="{% static 'css/style.css' %}" rel="stylesheet">

  <style>
    body {
      background-color: var(--bg-primary);
      font-family: var(--gt-font-primary);
    }

    .card-border {
      border-left: 4px solid var(--gt-gold);
    }

    .header-bar {
      background: linear-gradient(135deg, #003057 0%, #00457C 100%);
      color: white;
      padding: 1.25rem;
      border-radius: 0.5rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--gt-shadow-md);
    }

    .header-bar h2 {
      margin: 0;
      font-weight: 700;
    }

    .badge-status {
      font-size: 0.9rem;
      padding: 0.5rem 0.75rem;
      border-radius: 0.4rem;
      font-weight: 600;
    }

    .application-header h1,
    .application-header h5 {
      color: #B3A369 !important;   /* Georgia Tech Gold */
    }
  </style>
</head>
<body>

  <!-- Nav -->
  <!-- (If you don't have a navbar include, keep your current navbar) -->

  <div class="container mt-4">

    <!-- Header -->
    <div class="application-header" 
        style="background: linear-gradient(135deg, #003057, #0A2B4F); padding: 2rem; border-radius: 1rem; margin-bottom: 2rem;">

      <!-- Smaller, cleaner title -->
      <h2 class="fw-bold mb-3" style="color: #B3A369 !important; letter-spacing: 0.5px;">
        <i class="fas fa-file-alt me-2"></i>
        Application Review â€” {{ app.job.title }}
      </h2>

      <!-- Add space before company name -->
      <h5 class="mb-1" style="color: #B3A369 !important;">
        <i class="fas fa-building me-1"></i>
        {{ app.job.company }}
      </h5>
    </div>

    <!-- Applicant Info -->
    <div class="card mb-4 card-border">
      <div class="card-body">
        <h4 class="text-gt-navy d-flex justify-content-between">
          <span>
            <i class="fas fa-user me-2"></i>
            <a href="{% url 'profile.index' app.user.id %}" class="text-decoration-none">
              {{ app.user.username }}
            </a>
          </span>

          <span class="badge-status bg-info text-dark">
            {{ app.get_status_display }}
          </span>
        </h4>

        <p class="text-muted mb-1">
          <i class="fas fa-calendar text-gt-gold me-2"></i>
          Applied on: <strong>{{ app.applied_at|date:"M d, Y" }}</strong>
        </p>

        {% if app.user.profile.location %}
        <p class="text-muted mb-0">
          <i class="fas fa-map-marker-alt text-gt-gold me-2"></i>
          {{ app.user.profile.location }}
        </p>
        {% endif %}
      </div>
    </div>

    <!-- Tailored Note -->
    <div class="card card-border">
      <div class="card-header bg-gt-gold text-white">
        <h5 class="mb-0">
          <i class="fas fa-sticky-note me-2"></i> Tailored Note
        </h5>
      </div>

      <div class="card-body">
        {% if app.note %}
          <p class="mb-0" style="white-space: pre-wrap;">{{ app.note }}</p>
        {% else %}
          <p class="text-muted">No note was provided by the applicant.</p>
        {% endif %}
      </div>
    </div>

    <!-- Back Button -->
    <div class="mt-4">
      <a href="{% url 'recruiter_pipeline_job' app.job.id %}" class="btn btn-secondary">
        <i class="fas fa-arrow-left me-1"></i>
        Back to Kanban
      </a>
    </div>

  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
{% endblock content %}