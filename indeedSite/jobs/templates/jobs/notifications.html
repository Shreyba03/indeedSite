{% extends "base.html" %}

{% block title %}IndeedLite - Find Your Next Career Opportunity{% endblock %}

{% block content %}

  <div class="container mt-5">

    <h1 class="mb-4">Candidate Matches</h1>

    {% if notifications %}
      {% for search, candidates in notifications.items %}
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <strong>{{ search.name }}</strong> — {{ candidates.count }} matches
          </div>
          <ul class="list-group list-group-flush">
            {% for candidate in candidates %}
              <li class="list-group-item">
                <a href="{% url 'profile.index' candidate.user.id %}">
                  {{ candidate.user.username }}
                </a>
                {% if candidate.headline %}
                  <span class="text-muted">— {{ candidate.headline }}</span>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endfor %}
    {% else %}
      <p class="text-muted">No candidates found for your saved searches.</p>
    {% endif %}

  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

<!-- <h1>Candidate Matches</h1>

{% if notifications %}
    {% for search, candidates in notifications.items %}
        <h2>{{ search.name }} ({{ candidates.count }})</h2>
        <ul>
            {% for candidate in candidates %}
                <li>
                    <a href="{% url 'profile.index' user_id=candidate.user.id %}">
                        {{ candidate.user.username }} - {{ candidate.headline }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% endfor %}
{% else %}
    <p>No candidates found for your searches.</p>
{% endif %} -->

{% endblock content %}
